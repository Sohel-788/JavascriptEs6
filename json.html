<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON placeholder, Load data, get data and display data on ul</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>JSON means Javascript Object Notation</h1>
        <ul id="users-container">

        </ul>
        <script>
            //json object getting as string
            const user = {
                name: "Altaf",
                id: 12,
                salary: 1221,
                friendsAge: [22, 33, 44, 55],
                friends: ["kamal", "jamal", "tamal"],
                lover: {
                    name: "nisa",
                    id: 12,
                    class: 11
                }
            }
            const userJson = JSON.stringify(user);
            console.log(userJson);
            //json object getting as parse 
            const objFromJson = JSON.parse(userJson);
            console.log(objFromJson);
            console.log("A line break here");

            // stringify a class function
            class Student {
                constructor(sName, sId) {
                    this.sName = sName;
                    this.sId = sId;
                    this.school = "Dhaka Model School"; //default property
                }


            }
            const student1 = new Student("Somon", 12);
            const json = JSON.stringify(student1);
            console.log(json)
            const objFromJson2 = JSON.parse(json);
            console.log(objFromJson2)
            console.log("A line break here");

            //json placeholder
            fetch('https://jsonplaceholder.typicode.com/users')
                .then(response => response.json())
                .then(json => displayEmail(json))

            function displayEmail(users) {
                console.log("Users", users);
                console.log("A line break here");
                // calling a specific element from array by map function
                const userEmail = users.map(
                    user => user.email
                );
                console.log(userEmail);
            }

            // Creating a list item from back-end to front-end

            //json placeholder
            fetch('https://jsonplaceholder.typicode.com/users')
                .then(response => response.json())
                .then(json => displayUsers(json))

            function displayUsers(users) {
                //event handler
                const ul = document.getElementById("users-container");
                const userNames = users.map(user => user.username);
                for (let i = 0; i < userNames.length; i++) {
                    const element = userNames[i];
                    const li = document.createElement("li");
                    li.innerText = element;
                    ul.appendChild(li);

                }
            }
        </script>
    </div>
</body>

</html>